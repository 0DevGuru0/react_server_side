module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=34)}([function(e,t){e.exports=require("react")},function(e,t){e.exports=require("@babel/runtime/helpers/objectSpread")},function(e,t){e.exports=require("@babel/runtime/helpers/assertThisInitialized")},function(e,t){e.exports=require("@babel/runtime/helpers/defineProperty")},function(e,t){e.exports=require("react-apollo")},function(e,t){e.exports=require("@babel/runtime/regenerator")},function(e,t){e.exports=require("@babel/runtime/helpers/classCallCheck")},function(e,t){e.exports=require("@babel/runtime/helpers/createClass")},function(e,t){e.exports=require("@babel/runtime/helpers/possibleConstructorReturn")},function(e,t){e.exports=require("@babel/runtime/helpers/getPrototypeOf")},function(e,t){e.exports=require("@babel/runtime/helpers/inherits")},function(e,t){e.exports=require("@babel/runtime/helpers/taggedTemplateLiteral")},function(e,t){e.exports=require("graphql-tag")},function(e,t){e.exports=require("react-router-dom")},function(e,t){e.exports=require("react-redux")},function(e,t){e.exports=require("@babel/runtime/helpers/asyncToGenerator")},function(e,t){e.exports=require("react-helmet")},function(e,t){e.exports=require("react-router-config")},function(e,t){e.exports=require("redux")},function(e,t){e.exports=require("apollo-link-http")},function(e,t){e.exports=require("axios")},function(e,t){e.exports=require("apollo-boost")},function(e,t,n){"use strict";(function(e){var r=n(0),a=n.n(r),i=n(16),s=n(37),o=n.n(s),l=n(23);t.a=Object(l.hot)(e)(function(){return a.a.createElement("div",{className:"center-align",style:{marginTop:"200px"}},a.a.createElement(i.Helmet,null,a.a.createElement("title",null,"My Title"),a.a.createElement("meta",{name:"description",content:"Helmet application"}),a.a.createElement("meta",{property:"og:title",content:"The Rock"}),a.a.createElement("meta",{property:"og:type",content:"video.movie"}),a.a.createElement("meta",{property:"og:url",content:"http://www.imdb.com/title/tt0117500/"}),a.a.createElement("meta",{property:"og:image",content:"http://ia.media-imdb.com/images/rock.jpg"})),a.a.createElement("h3",null,"Welcome to you"),a.a.createElement("p",{className:o.a.red},"Check out these awesome features"))})}).call(this,n(35)(e))},function(e,t){e.exports=require("react-hot-loader")},function(e,t){e.exports=require("moment")},function(e,t){e.exports=require("crypto-js")},function(e,t){e.exports=require("serialize-javascript")},function(e,t){e.exports=require("https")},function(e,t){e.exports=require("@babel/runtime/helpers/typeof")},function(e,t){e.exports=require("apollo-link-error")},function(e,t){e.exports=require("apollo-link-persisted-queries")},function(e,t){e.exports=require("node-fetch")},function(e,t){e.exports=require("redux-thunk")},function(e,t){e.exports=require("ioredis")},function(e,t,n){e.exports=n(36)},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";n.r(t);var r=n(5),a=n.n(r),i=n(15),s=n.n(i),o=n(0),l=n.n(o),u=n(1),c=n.n(u),p=n(22),m=n(6),d=n.n(m),f=n(7),h=n.n(f),g=n(8),v=n.n(g),E=n(9),y=n.n(E),b=n(2),_=n.n(b),w=n(10),S=n.n(w),x=n(3),k=n.n(x),P=n(14),q=function(e){return function(){var t=s()(a.a.mark(function t(n,r,i){var s;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.get("/users?page=".concat(e));case 2:s=t.sent,n({type:"FETCH_USERS",payload:s.data});case 4:case"end":return t.stop()}},t)}));return function(e,n,r){return t.apply(this,arguments)}}()},N=function(){return function(){var e=s()(a.a.mark(function e(t,n,r){var i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.get("/current_user");case 2:i=e.sent,t({type:"FETCH_CURRENT_USER",payload:i.data});case 4:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}()},j=n(16),L=n.n(j),O=n(42),C=n.n(O),T=n(13),U=function(e){var t,n=e.currentPage,r=e.lastPage,a=e.hasNextPage,i=e.hasPreviousPage,s=e.classes,o=e.baseAddress,u=[],c=r;return(t=c>=10?function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;if(n="number"==typeof n&&n>0?n:1,(t="number"==typeof t&&t>0?t:1)<(r="number"==typeof r&&r>0?r:5))return R(e=1,2*r);if(t>=n||t>n-r)return R(e=n-2*r,e+2*r);if(t>=r&&t<n)return R(e=t-r,t+r)}(n,c,5):R(1,c)).map(function(e){var t=s.pageList;return e===n&&(t=[s.pageList,s.activePage].join(" ")),u.push(l.a.createElement("li",{key:Math.random()*e,className:t},l.a.createElement(T.Link,{to:o+e},e)))}),n===r||t.find(function(e){return e===r})||u.push(l.a.createElement("li",{key:Math.random()*r,className:s.lastPage},l.a.createElement(T.Link,{to:o+r},"lastPage[",r,"]"))),a&&u.push(l.a.createElement("li",{key:Math.random()*n,className:s.nextPage},l.a.createElement(T.Link,{to:o+(n+1)},"NextPage"))),i&&u.unshift(l.a.createElement("li",{key:Math.random()/n,className:s.previousPage},l.a.createElement(T.Link,{to:o+(n-1)},"PreviousPage"))),u};function R(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=e,a=[];r<=t;)a.push(r),r+=n;return a}var M=function(e){function t(){var e,n;d()(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=v()(this,(e=y()(t)).call.apply(e,[this].concat(a))),k()(_()(n),"head",function(){if(n.props.users)return l.a.createElement(j.Helmet,null,l.a.createElement("title",null,"(".concat(n.props.users.length,")_User list")),l.a.createElement("meta",{name:"description",content:"Helmet application"}),l.a.createElement("meta",{property:"og:title",content:"The Rock"}),l.a.createElement("meta",{property:"og:type",content:"video.movie"}),l.a.createElement("meta",{property:"og:url",content:"http://www.imdb.com/title/tt0117500/"}),l.a.createElement("meta",{property:"og:image",content:"http://ia.media-imdb.com/images/rock.jpg"}))}),k()(_()(n),"pagination",function(){return U(c()({},n.props,{classes:C.a,baseAddress:"/users/page/"}))}),n}return S()(t,e),h()(t,[{key:"componentDidMount",value:function(){var e=this.props.location.pathname.split("/")[3]||1;this.props.fetchUsers(e)}},{key:"componentDidUpdate",value:function(e,t){if(e.location.pathname!==this.props.location.pathname){var n=this.props.location.pathname.split("/")[3]||1;this.props.fetchUsers(n)}}},{key:"renderUsersList",value:function(){if(null!==this.props.users)return this.props.users.map(function(e){return l.a.createElement("li",{className:C.a.list_group_item,key:e._id},e.name)})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("picture",{className:[C.a.intrinsic,C.a.intrinsic__square].join(" ")},l.a.createElement("source",{media:"(min-width: 500px)",srcSet:"https://im.rediff.com/getahead/2017/mar/31kerala8.jpg"}),l.a.createElement("img",{className:C.a.intrinsic_item,srcSet:"https://media.wpri.com/nxs-wpritv-media-us-east-1/photo/2018/11/21/pic%20of%20the%20day%20nov%2021_1542802532936.jpg_62805245_ver1.0_640_360.jpg",alt:""})),l.a.createElement("h2",null,"UsersList:"),this.head(),l.a.createElement("ul",{className:C.a.list_group},this.renderUsersList()),l.a.createElement("div",{className:C.a.paginationContainer},l.a.createElement("ul",{className:C.a.paginationList},this.pagination())))}}]),t}(o.Component),A={component:Object(P.connect)(function(e){var t=e.users;return{users:t.usersList,totalUsers:t.totalUsers,hasNextPage:t.hasNextPage,hasPreviousPage:t.hasPreviousPage,currentPage:t.currentPage,lastPage:t.lastPage}},function(e){return{fetchUsers:function(t){return e(q(t))}}})(M),loadData:function(e,t){return(0,e.dispatch)(q(t))}},$=function(){return function(){var e=s()(a.a.mark(function e(t,n,r){var i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.get("/admins");case 2:i=e.sent,t({type:"FETCH_ADMINS",payload:i.data});case 4:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}()},H=n(4),D=n(11),V=n.n(D),B=n(12),I=n.n(B);function F(){var e=V()(["\n    {\n        user{\n            id\n            email\n            name\n            isVerified\n        }\n    }\n"]);return F=function(){return e},e}var Q,z,J=I()(F()),Y=function(e){function t(e){var n;return d()(this,t),(n=v()(this,y()(t).call(this,e))).headTitle=l.a.createRef(),n}return S()(t,e),h()(t,[{key:"componentDidMount",value:function(){this.props.FetchAdmins()}},{key:"renderAdmins",value:function(){if(this.props.admins.length>0)return this.props.admins.map(function(e){return l.a.createElement("li",{key:e.id},e.name)})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(L.a,null,l.a.createElement("meta",{content:"text/html; charset=UTF-8; X-Content-Type-Options=nosniff","http-equiv":"Content-Type"})),l.a.createElement("h3",{ref:this.headTitle},"Protected list of admins"),l.a.createElement("ul",null,this.renderAdmins()))}}]),t}(o.Component),W={component:(Q=Object(P.connect)(function(e){return{admins:e.admins.adminsList}},function(e){return{FetchAdmins:function(){return e($())}}})(Y),z=function(e){function t(){return d()(this,t),v()(this,y()(t).apply(this,arguments))}return S()(t,e),h()(t,[{key:"render",value:function(){switch(this.props.auth||this.props.data.user){case!1:return l.a.createElement("div",null,"you Should logIn");default:return l.a.createElement(Q,this.props)}}}]),t}(o.Component),Object(P.connect)(function(e){return{auth:e.auth.user}},null)(Object(H.graphql)(J)(z))),loadData:function(e){return(0,e.dispatch)($())}},G=n(17);function X(){var e=V()(["\n    mutation emailVerify($Email: String!) {\n        sendEmailVerify(email: $Email) {\n            email\n        }\n    }\n\n"]);return X=function(){return e},e}var K=I()(X()),Z=n(44),ee=n.n(Z),te=function(e){function t(e){var n;return d()(this,t),n=v()(this,y()(t).call(this,e)),k()(_()(n),"renderButtons",function(){return n.props.user||n.props.data.user?l.a.createElement("div",null,l.a.createElement("li",null,l.a.createElement(T.Link,{to:"/admins"},"Admins")),l.a.createElement("li",null,l.a.createElement("a",{href:"/api/logout"},"Logout"))):l.a.createElement("div",null,l.a.createElement("li",null,l.a.createElement(T.Link,{to:"/users"},"Users")),l.a.createElement("li",null,l.a.createElement(T.Link,{to:"/admins"},"Admins")),l.a.createElement("li",null,l.a.createElement(T.Link,{to:"/Signin"},"SignIn")),l.a.createElement("li",null,l.a.createElement(T.Link,{to:"/Signup"},"SignUp")),l.a.createElement("li",null,l.a.createElement("a",{href:"https://localhost:3000/api/auth/google"},"Login via google")))}),k()(_()(n),"sendEmail",function(){n.setState({email_loading:!0}),n.props.mutate({variables:{Email:n.props.user.email}}).then(function(){n.setState({emailRequested:!0,email_loading:!1})}).catch(function(e){console.log(e),n.setState({emailRequested:!1,email_loading:!1})})}),k()(_()(n),"emailVerify",function(){if(n.props.data.user&&n.props.user&&(!n.props.user.isVerified||!n.props.data.user.isVerified))return console.log(n.props),l.a.createElement("div",{className:ee.a.emailVerify},l.a.createElement("p",null,"please confirm your email verify",l.a.createElement("button",{onClick:n.sendEmail},"Send Request To My Email")))}),k()(_()(n),"emailSection",function(){return n.state.email_loading?l.a.createElement("div",{className:ee.a.emailVerify},l.a.createElement("div",{className:ee.a.loader},"Loading...")):n.state.emailRequested?l.a.createElement("div",{className:ee.a.emailVerify_send},l.a.createElement("p",null,"Email send successfully do you want send again__",l.a.createElement("button",{onClick:n.sendEmail},"Send Request To My Email"))):n.emailVerify()}),n.state={email_loading:!1,emailRequested:!1},n}return S()(t,e),h()(t,[{key:"render",value:function(){return l.a.createElement("div",null,this.emailSection(),l.a.createElement("nav",null,l.a.createElement("div",{className:"nav-wrapper"},l.a.createElement(T.Link,{to:"/",className:"brand-logo left"}," Home "),l.a.createElement("ul",{className:"right"}," ",this.renderButtons()," "))))}}]),t}(o.Component),ne=Object(P.connect)(function(e){return{user:e.auth.user}},null)(Object(H.graphql)(J)(Object(H.graphql)(K)(te)));function re(){var e=V()(["\n    mutation pageViews($field:String!,$key:String!){\n        pageViews(field:$field, key: $key) {\n            field\n            counted\n        }\n    }\n"]);return re=function(){return e},e}var ae=I()(re()),ie=n(24),se=n.n(ie),oe=function(e){function t(){return d()(this,t),v()(this,y()(t).apply(this,arguments))}return S()(t,e),h()(t,[{key:"componentDidUpdate",value:function(e){if(this.props.location.pathname!==e.location.pathname){var t="pageViews:".concat(se()().format("YYYY/M/D"),":"),n=this.props.location.pathname;this.props.mutate({variables:{key:t,field:n}})}}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(ne,null),Object(G.renderRoutes)(this.props.route.routes))}}]),t}(o.Component),le={component:Object(H.graphql)(ae)(Object(P.connect)(null,function(e){return{fetchUser:function(){return e(N())}}})(oe)),loadData:function(e){return(0,e.dispatch)(N())}},ue={component:function(e){var t=e.staticContext;return(void 0===t?{}:t).notFound=!0,l.a.createElement("h1",null,"Oops,route not found.")}};function ce(){var e=V()(["\n    mutation SignIn($email:String!,$password:String!){\n        SignIn(email:$email,password:$password){\n            id\n            name\n            email\n        }\n    }\n"]);return ce=function(){return e},e}var pe=I()(ce()),me=n(46),de=n.n(me),fe=function(e){function t(){var e,n;d()(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=v()(this,(e=y()(t)).call.apply(e,[this].concat(a))),k()(_()(n),"state",{user:{email:"",password:""},errors:[],loading:!1}),k()(_()(n),"submitHandler",function(e){n.setState({loading:!0}),e.preventDefault();var t=n.state.user,r=t.email,a=t.password;n.props.mutate({variables:{email:r,password:a},refetchQueries:[{query:J}]}).then(function(){n.setState({loading:!1}),n.props.history.replace("/")}).catch(function(e){n.setState({loading:!1});var t=e.graphQLErrors.map(function(e){return e.message});t=t[0].split(","),n.setState({errors:t})})}),k()(_()(n),"showErrors",function(){var e=[];return n.state.errors.map(function(t,n){return e.push(l.a.createElement("li",{key:n},t))}),e}),k()(_()(n),"signInForm",function(){return n.state.loading?l.a.createElement("div",{className:de.a.loader},"Loading..."):l.a.createElement("div",null,l.a.createElement("div",{className:de.a.container},l.a.createElement("h2",null,"SignIn"),l.a.createElement("div",{className:de.a.errorBox},l.a.createElement("ul",null,n.showErrors())),l.a.createElement("form",{onSubmit:n.submitHandler},l.a.createElement("label",null,"Email:"),l.a.createElement("input",{type:"email",placeholder:"type your email...",value:n.state.user.email,onChange:function(e){return n.setState({user:c()({},n.state.user,{email:e.target.value})})}}),l.a.createElement("label",null,"Password:"),l.a.createElement("input",{name:"password",type:"password",value:n.state.user.password,onChange:function(e){return n.setState({user:c()({},n.state.user,{password:e.target.value})})}}),l.a.createElement("button",{className:"btn waves-effect waves-light",type:"submit",name:"action"},"Submit",l.a.createElement("i",{className:"material-icons right"},"send"))),l.a.createElement("a",{href:"/request_resetPass"},"forgot your password?")))}),n}return S()(t,e),h()(t,[{key:"render",value:function(){return this.signInForm()}}]),t}(o.Component),he={component:Object(H.graphql)(J)(Object(H.graphql)(pe)(fe))};function ge(){var e=V()(["\n    mutation SignUp($name:String!,$email:String!,$password:String!){\n        SignUp(name:$name,email:$email,password:$password){\n            id\n            name\n            email\n        }\n    }\n"]);return ge=function(){return e},e}var ve=I()(ge()),Ee=n(48),ye=n.n(Ee),be=function(e){function t(){var e,n;d()(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=v()(this,(e=y()(t)).call.apply(e,[this].concat(a))),k()(_()(n),"state",{user:{name:"",email:"",password:""},errors:[],loading:!1}),k()(_()(n),"submitHandler",function(e){n.setState({loading:!0}),e.preventDefault();var t=n.state.user,r=t.name,a=t.email,i=t.password;n.props.mutate({variables:{name:r,email:a,password:i},refetchQueries:[{query:J}]}).then(function(){n.setState({loading:!1}),n.props.history.replace("/")}).catch(function(e){n.setState({loading:!1}),console.log(e);var t=e.graphQLErrors.map(function(e){return e.message});t=t[0].split(","),n.setState({errors:t})})}),k()(_()(n),"showErrors",function(){var e=[];return n.state.errors.map(function(t,n){return e.push(l.a.createElement("li",{key:n},t))}),e}),n}return S()(t,e),h()(t,[{key:"render",value:function(){var e=this;return this.state.loading?l.a.createElement("div",{className:ye.a.loader},"Loading..."):l.a.createElement("div",{className:ye.a.container},l.a.createElement("div",{className:ye.a.errorBox},l.a.createElement("ul",null," ",this.showErrors()," ")),l.a.createElement("form",{onSubmit:this.submitHandler},l.a.createElement("label",null,"Name"),l.a.createElement("input",{id:"first_name",type:"text",value:this.state.user.name,onChange:function(t){return e.setState({user:c()({},e.state.user,{name:t.target.value})})}}),l.a.createElement("label",null,"Email:"),l.a.createElement("input",{id:"email",type:"email",placeholder:"type your email...",value:this.state.user.email,onChange:function(t){return e.setState({user:c()({},e.state.user,{email:t.target.value})})}}),l.a.createElement("label",null,"Password:"),l.a.createElement("input",{id:"password",name:"password",type:"password",value:this.state.user.password,onChange:function(t){return e.setState({user:c()({},e.state.user,{password:t.target.value})})}}),l.a.createElement("button",{className:"btn waves-effect waves-light",type:"submit",name:"action"},"Submit",l.a.createElement("i",{className:"material-icons right"},"send"))))}}]),t}(o.Component),_e={component:Object(H.graphql)(J)(Object(H.graphql)(ve)(be))};function we(){var e=V()(["\nquery UserIdentify($Token:String!){\n        identifyUserByToken(token:$Token){\n            email\n        }\n    }\n"]);return we=function(){return e},e}var Se=I()(we());function xe(){var e=V()(["\n    mutation updateUser($Password:String!,$Email:String!){\n        updateUserPassword(password:$Password,email:$Email){\n            email\n        }\n    }\n"]);return xe=function(){return e},e}var ke=I()(xe()),Pe=n(50),qe=n.n(Pe),Ne=function(e){function t(e){var n;return d()(this,t),n=v()(this,y()(t).call(this,e)),k()(_()(n),"formHandler",function(e){e.preventDefault(),""===n.state.password||""===n.state.password_copy?n.setState({errors:["please fill all credentials"]}):n.state.password===n.state.password_copy?n.props.data.identifyUserByToken&&n.props.mutate({variables:{Email:n.props.data.identifyUserByToken.email,Password:n.state.password}}).then(function(){n.props.history.replace("/signin")}).catch(function(e){var t=e.graphQLErrors.map(function(e){return e.message});n.setState({errors:t})}):n.setState({errors:["passwords don't match with each other, please try again "]})}),k()(_()(n),"showErrors",function(){var e=[];if(n.state.errors.length>0)return n.state.errors.map(function(t,n){return e.push(l.a.createElement("div",{className:qe.a.errorMsg,key:n},t))}),e}),n.state={password:"",password_copy:"",errors:[]},n}return S()(t,e),h()(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:qe.a.container},l.a.createElement("h4",null,"Reset Password"),this.showErrors(),l.a.createElement("form",{onSubmit:this.formHandler},l.a.createElement("input",{name:"password",onChange:function(t){return e.setState({password:t.target.value})},value:this.state.password,placeholder:"new Password"}),l.a.createElement("input",{name:"password_copy",onChange:function(t){return e.setState({password_copy:t.target.value})},value:this.state.password_copy,placeholder:"repeat Password"}),l.a.createElement("button",null,l.a.createElement("i",{className:"material-icons"},"send")," resetPassword")))}}]),t}(o.Component),je={component:Object(H.graphql)(Se,{options:function(e){return{variables:{Token:e.location.pathname.slice(15)}}}})(Object(H.graphql)(ke)(Ne))};function Le(){var e=V()(["\n    mutation sendRequest($Email:String!){\n        sendResetPassEmail(email:$Email){\n            email\n        }\n    }\n"]);return Le=function(){return e},e}var Oe=I()(Le()),Ce=function(e){function t(e){var n;return d()(this,t),n=v()(this,y()(t).call(this,e)),k()(_()(n),"sendRequestToEmail",function(e){e.preventDefault(),""!==n.state.email?n.props.mutate({variables:{Email:n.state.email}}).then(function(){n.setState({success:"you are successfully send request to ".concat(n.state.email),errors:[]})}).catch(function(e){var t=e.graphQLErrors.map(function(e){return e.message});n.setState({errors:t,success:""})}):n.setState({errors:["please type your email,to send request"],success:""})}),n.state={email:"",errors:[],success:""},n}return S()(t,e),h()(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:qe.a.container},function(){if(""!==e.state.success)return l.a.createElement("div",{className:qe.a.successMsg},e.state.success)}(),function(){if(e.state.errors.length>0)return e.state.errors.map(function(e,t){return l.a.createElement("div",{className:qe.a.errorMsg,key:t},e)})}(),l.a.createElement("form",{onSubmit:this.sendRequestToEmail},l.a.createElement("label",{id:"email"},"Email Address"),l.a.createElement("input",{type:"email",name:"email",id:"email",placeholder:"Email Address...",onChange:function(t){e.setState({email:t.target.value})},value:this.state.email}),l.a.createElement("button",null,l.a.createElement("i",{className:"material-icons"},"send"),"Send Request")))}}]),t}(o.Component),Te={component:Object(H.graphql)(Oe)(Ce)},Ue=[c()({},le,{path:"/",routes:[c()({path:"/users"},A),c()({path:"/admins"},W),c()({path:"/signin"},he),c()({path:"/signup"},_e),c()({path:"/request_resetPass"},Te),c()({path:"/resetPassword"},je),{component:p.a,path:"/"},c()({},ue)]})],Re=n(25),Me=n(26),Ae=n.n(Me),$e=n(21),He=n(19),De=n(27),Ve=n.n(De),Be=n(28),Ie=n.n(Be),Fe=n(29),Qe=(n(30),Object(Fe.onError)(function(e){var t=e.graphQLErrors,n=e.networkError;t&&t.map(function(e){var t=e.message,n=e.location,r=e.path;return console.log("[GraphQL error]: Message: ".concat(t,", Location: ").concat(n,", Path: ").concat(r))}),n&&console.log("[Network error]: ".concat(n))}),function(){var e=new WeakSet;return function(t,n){if("object"===Ie()(n)&&null!==n){if(e.has(n))return;e.add(n)}return n}}),ze=n(31),Je=n.n(ze),Ye=function(){var e=s()(a.a.mark(function e(t,n,r){var i,s;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=new $e.ApolloClient({ssrMode:!0,link:Object(He.createHttpLink)({fetch:Je.a,uri:"https://localhost:3000/api/graphql",credentials:"same-origin",fetchOptions:{agent:new Ve.a.Agent({rejectUnauthorized:!1})}}),cache:new $e.InMemoryCache}),s=l.a.createElement(H.ApolloProvider,{client:i},l.a.createElement(P.Provider,{store:n},l.a.createElement(T.StaticRouter,{location:t.path,context:r},Object(G.renderRoutes)(Ue)))),e.abrupt("return",Object(H.renderToStringWithData)(s).then(function(e){var t=Ae()(n.getState()),r=Re.AES.encrypt(t,"secret key 123"),a=j.Helmet.renderStatic();return"\n            <html>\n                <head>\n                    ".concat(a.title.toString(),"\n                    ").concat(a.meta.toString(),"\n                    ").concat(a.link.toString(),'\n                    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.0/css/materialize.min.css">\n                    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">\n                    <link href="/stylesheets/main.css" rel="stylesheet">\n                    <link href="stylesheets/main_sass.css" type="text/css">\n                    <script>window.INITIAL_STATE = ').concat(JSON.stringify(r,Qe()),'<\/script>\n                </head>\n                <body>\n                    <div id="root">').concat(e,'</div>\n                    <script src="/public-bundle.js"><\/script>\n                    <script src="/public-bundle.chunk.js"><\/script>\n                    <script>window.__APOLLO_STATE__=').concat(JSON.stringify(i.extract(),Qe()),"<\/script>\n                </body>\n            </html>")}));case 3:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}(),We=n(18),Ge=n(32),Xe=n.n(Ge),Ke={adminsList:{}},Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ADMINS":return function(e,t){return c()({},e,{adminsList:t.payload})}(e,t);default:return e}},et={usersList:null,totalUsers:null,hasNextPage:null,hasPreviousPage:null,currentPage:null,lastPage:null},tt={user:!1},nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_CURRENT_USER":return function(e,t){return c()({},e,{user:t.payload})}(e,t);default:return e}},rt=Object(We.combineReducers)({admins:Ze,users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USERS":return function(e,t){var n=t.payload;return c()({},e,{usersList:n.Users,totalUsers:n.totalUsers,hasNextPage:n.hasNextPage,hasPreviousPage:n.hasPreviousPage,currentPage:n.currentPage,lastPage:n.lastPage})}(e,t);default:return e}},auth:nt}),at=n(20),it=n.n(at),st=n(33),ot=new(n.n(st).a);t.default=function(){return function(e,t){var n=function(e){var t=it.a.create({baseURL:process.env.userManagementHost,headers:{cookie:e.get("cookie")||""}});return Object(We.createStore)(rt,{},Object(We.applyMiddleware)(Xe.a.withExtraArgument(t)))}(e),r=e.query.page||1,i=Object(G.matchRoutes)(Ue,e.path).map(function(e){var t=e.route;return t.loadData?t.loadData(n,r):null}).map(function(e){if(e)return new Promise(function(t,n){e.then(t).catch(t)})});Promise.all(i).then(function(){var r={},i=Ye(e,n,r,t);Promise.all([i]).then(function(){var e=s()(a.a.mark(function e(n){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r.notFound&&t.status(404),ot.incr("totalVisit"),t.send(n[0]);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())})}}},function(e,t){e.exports={red:"home__red--CWskv"}},,,,,function(e,t){e.exports={paginationList:"userList__paginationList--2LcPw",activePage:"userList__activePage--2n3Ng",list_group:"userList__list_group--4Fu-P",list_group_item:"userList__list_group_item--29cPB",paginationContainer:"userList__paginationContainer--2E1Cl",intrinsic:"userList__intrinsic--2qYJu",intrinsic__square:"userList__intrinsic__square--2vZs2",intrinsic_item:"userList__intrinsic_item--_Aalg"}},,function(e,t){e.exports={emailVerify:"header__emailVerify--1OOm_",emailVerify_send:"header__emailVerify_send--2D4qc",loader:"header__loader--3XwL5",load4:"header__load4--2ucSB"}},,function(e,t){e.exports={container:"signin__container--3fD1p",errorBox:"signin__errorBox---_BEP",loader:"signin__loader--3cOyQ",load6:"signin__load6--2BaLg",round:"signin__round--17cOH"}},,function(e,t){e.exports={container:"signup__container--9K7C4",errorBox:"signup__errorBox--2447J",loader:"signup__loader--1DJ81",load6:"signup__load6--3fdi3",round:"signup__round--3cBAN"}},,function(e,t){e.exports={container:"requestToRest__container--3sVwv",successMsg:"requestToRest__successMsg--2CG-E",errorMsg:"requestToRest__errorMsg--5Vdwo"}}]);
//# sourceMappingURL=server-bundle.js.map