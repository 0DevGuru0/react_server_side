module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=34)}([function(e,t){e.exports=require("react")},function(e,t){e.exports=require("@babel/runtime/helpers/objectSpread")},function(e,t){e.exports=require("@babel/runtime/regenerator")},function(e,t){e.exports=require("@babel/runtime/helpers/classCallCheck")},function(e,t){e.exports=require("@babel/runtime/helpers/createClass")},function(e,t){e.exports=require("@babel/runtime/helpers/possibleConstructorReturn")},function(e,t){e.exports=require("@babel/runtime/helpers/getPrototypeOf")},function(e,t){e.exports=require("@babel/runtime/helpers/inherits")},function(e,t){e.exports=require("react-redux")},function(e,t){e.exports=require("@babel/runtime/helpers/assertThisInitialized")},function(e,t){e.exports=require("@babel/runtime/helpers/defineProperty")},function(e,t){e.exports=require("@babel/runtime/helpers/asyncToGenerator")},function(e,t){e.exports=require("react-router-dom")},function(e,t){e.exports=require("react-apollo")},function(e,t){e.exports=require("react-helmet")},function(e,t){e.exports=require("react-router-config")},function(e,t){e.exports=require("redux")},function(e,t){e.exports=require("@babel/runtime/helpers/taggedTemplateLiteral")},function(e,t){e.exports=require("graphql-tag")},function(e,t,n){"use strict";(function(e){var r=n(0),a=n.n(r),o=n(14),i=n(37),u=n.n(i),c=n(20);t.a=Object(c.hot)(e)(function(){return a.a.createElement("div",{className:"center-align",style:{marginTop:"200px"}},a.a.createElement(o.Helmet,null,a.a.createElement("title",null,"My Title"),a.a.createElement("meta",{name:"description",content:"Helmet application"}),a.a.createElement("meta",{property:"og:title",content:"The Rock"}),a.a.createElement("meta",{property:"og:type",content:"video.movie"}),a.a.createElement("meta",{property:"og:url",content:"http://www.imdb.com/title/tt0117500/"}),a.a.createElement("meta",{property:"og:image",content:"http://ia.media-imdb.com/images/rock.jpg"})),a.a.createElement("h3",null,"Welcom tye oh baby"),a.a.createElement("p",{className:u.a.red},"Check out these awesome features"))})}).call(this,n(35)(e))},function(e,t){e.exports=require("react-hot-loader")},function(e,t,n){"use strict";n.r(t);var r,a,o=n(2),i=n.n(o),u=n(11),c=n.n(u),s=n(0),l=n.n(s),p=n(1),m=n.n(p),f=n(19),d=n(3),h=n.n(d),g=n(4),v=n.n(g),b=n(5),y=n.n(b),E=n(6),w=n.n(E),x=n(9),S=n.n(x),k=n(7),q=n.n(k),j=n(10),O=n.n(j),L=n(8),_=function(){return function(){var e=c()(i.a.mark(function e(t,n,r){var a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.get("/users");case 2:a=e.sent,t({type:"FETCH_USERS",payload:a.data});case 4:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}()},C=function(){return function(){var e=c()(i.a.mark(function e(t,n,r){var a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.get("/current_user");case 2:a=e.sent,t({type:"FETCH_CURRENT_USER",payload:a.data});case 4:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}()},T=n(14),P=function(e){function t(){var e,n;h()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=y()(this,(e=w()(t)).call.apply(e,[this].concat(a))),O()(S()(n),"head",function(){if(n.props.users)return l.a.createElement(T.Helmet,null,l.a.createElement("title",null,"(".concat(n.props.users.length,")_User list")),l.a.createElement("meta",{name:"description",content:"Helmet application"}),l.a.createElement("meta",{property:"og:title",content:"The Rock"}),l.a.createElement("meta",{property:"og:type",content:"video.movie"}),l.a.createElement("meta",{property:"og:url",content:"http://www.imdb.com/title/tt0117500/"}),l.a.createElement("meta",{property:"og:image",content:"http://ia.media-imdb.com/images/rock.jpg"}))}),n}return q()(t,e),v()(t,[{key:"componentWillMount",value:function(){this.props.fetchUsers()}},{key:"renderUsersList",value:function(){if(null!==this.props.users)return this.props.users.map(function(e){return l.a.createElement("li",{className:"list-group-item",key:e.id},e.name)})}},{key:"render",value:function(){return l.a.createElement("div",null,this.head(),l.a.createElement("ul",{className:"list-group"},this.renderUsersList()))}}]),t}(s.Component),N={component:Object(L.connect)(function(e){return{users:e.users.usersList}},function(e){return{fetchUsers:function(){return e(_())}}})(P),loadData:function(e){return(0,e.dispatch)(_())}},A=function(){return function(){var e=c()(i.a.mark(function e(t,n,r){var a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.get("/admins");case 2:a=e.sent,t({type:"FETCH_ADMINS",payload:a.data});case 4:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}()},H=function(e){function t(){return h()(this,t),y()(this,w()(t).apply(this,arguments))}return q()(t,e),v()(t,[{key:"componentDidMount",value:function(){this.props.FetchAdmins()}},{key:"renderAdmins",value:function(){if(this.props.admins.length>0)return this.props.admins.map(function(e){return l.a.createElement("li",{key:e.id},e.name)})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h3",null,"Protected list of admins"),l.a.createElement("ul",null,this.renderAdmins()))}}]),t}(s.Component),R={component:(r=Object(L.connect)(function(e){return{admins:e.admins.adminsList}},function(e){return{FetchAdmins:function(){return e(A())}}})(H),a=function(e){function t(){return h()(this,t),y()(this,w()(t).apply(this,arguments))}return q()(t,e),v()(t,[{key:"render",value:function(){switch(this.props.auth){case!1:return l.a.createElement("div",null,"you Should logIn");default:return l.a.createElement(r,this.props)}}}]),t}(s.Component),Object(L.connect)(function(e){return{auth:e.auth.user}},null)(a)),loadData:function(e){return(0,e.dispatch)(A())}},U=n(15),M=n(12),D=Object(L.connect)(function(e){return{user:e.auth.user}},null)(function(e){var t=e.user;return l.a.createElement("nav",null,l.a.createElement("div",{className:"nav-wrapper"},l.a.createElement(M.Link,{to:"/",className:"brand-logo left"},"Home"),l.a.createElement("ul",{className:"right"},t?l.a.createElement("div",null,l.a.createElement("li",null,l.a.createElement(M.Link,{to:"/admins"},"Admins")),l.a.createElement("li",null,l.a.createElement("a",{href:"/api/logout"},"Logout"))):l.a.createElement("div",null,l.a.createElement("li",null,l.a.createElement(M.Link,{to:"/users"},"Users")),l.a.createElement("li",null,l.a.createElement(M.Link,{to:"/admins"},"Admins")),l.a.createElement("li",null,l.a.createElement(M.Link,{to:"/Signin"},"SignIn")),l.a.createElement("li",null,l.a.createElement(M.Link,{to:"/Signup"},"SignUp")),l.a.createElement("li",null,l.a.createElement("a",{href:"/api/auth/google"},"Login via google"))))))}),I={component:Object(L.connect)(null,function(e){return{fetchUser:function(){return e(C())}}})(function(e){var t=e.route;return l.a.createElement("div",null,l.a.createElement(D,null),Object(U.renderRoutes)(t.routes))}),loadData:function(e){return(0,e.dispatch)(C())}},F={component:function(e){var t=e.staticContext;return(void 0===t?{}:t).notFound=!0,l.a.createElement("h1",null,"Oops,route not found.")}},$=n(13),Q=n(17),W=n.n(Q),z=n(18),G=n.n(z);function J(){var e=W()(["\n    mutation SignIn($email:String!,$password:String!){\n        SignIn(email:$email,password:$password){\n            id\n            name\n            email\n        }\n    }\n"]);return J=function(){return e},e}var B=G()(J());function K(){var e=W()(["\n    {\n        user{\n            id\n            email\n            name\n        }\n    }\n"]);return K=function(){return e},e}var V=G()(K()),X=n(42),Y=n.n(X),Z=function(e){function t(){var e,n;h()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=y()(this,(e=w()(t)).call.apply(e,[this].concat(a))),O()(S()(n),"state",{user:{email:"",password:""},errors:[]}),O()(S()(n),"submitHandler",function(e){e.preventDefault();var t=n.state.user,r=t.email,a=t.password;n.props.mutate({variables:{email:r,password:a},refetchQueries:[{query:V}]}).then(function(){n.props.history.replace("/")}).catch(function(e){var t=e.graphQLErrors.map(function(e){return e.message});n.setState({errors:t})})}),n}return q()(t,e),v()(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:Y.a.container},l.a.createElement("form",{onSubmit:this.submitHandler},l.a.createElement("label",null,"Email:"),l.a.createElement("input",{type:"email",placeholder:"type your email...",value:this.state.user.email,onChange:function(t){return e.setState({user:m()({},e.state.user,{email:t.target.value})})}}),l.a.createElement("label",null,"Password:"),l.a.createElement("input",{name:"password",type:"password",value:this.state.user.password,onChange:function(t){return e.setState({user:m()({},e.state.user,{password:t.target.value})})}}),l.a.createElement("button",{className:"btn waves-effect waves-light",type:"submit",name:"action"},"Submit",l.a.createElement("i",{className:"material-icons right"},"send"))))}}]),t}(s.Component),ee={component:Object($.graphql)(V)(Object($.graphql)(B)(Z))};function te(){var e=W()(["\n    mutation SignUp($name:String!,$email:String!,$password:String!){\n        SignUp(name:$name,email:$email,password:$password){\n            id\n            name\n            email\n        }\n    }\n"]);return te=function(){return e},e}var ne=G()(te()),re=function(e){function t(){var e,n;h()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=y()(this,(e=w()(t)).call.apply(e,[this].concat(a))),O()(S()(n),"state",{user:{name:"",email:"",password:""},errors:[]}),O()(S()(n),"submitHandler",function(e){e.preventDefault();var t=n.state.user,r=t.name,a=t.email,o=t.password;n.props.mutate({variables:{name:r,email:a,password:o},refetchQueries:[{query:V}]}).then(function(){n.props.history.replace("/")}).catch(function(e){var t=e.graphQLErrors.map(function(e){return e.message});n.setState({errors:t})})}),n}return q()(t,e),v()(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"container"},l.a.createElement("form",{onSubmit:this.submitHandler},l.a.createElement("label",null,"Name"),l.a.createElement("input",{id:"first_name",type:"text",value:this.state.user.name,onChange:function(t){return e.setState({user:m()({},e.state.user,{name:t.target.value})})}}),l.a.createElement("label",null,"Email:"),l.a.createElement("input",{type:"email",placeholder:"type your email...",value:this.state.user.email,onChange:function(t){return e.setState({user:m()({},e.state.user,{email:t.target.value})})}}),l.a.createElement("label",null,"Password:"),l.a.createElement("input",{name:"password",type:"password",value:this.state.user.password,onChange:function(t){return e.setState({user:m()({},e.state.user,{password:t.target.value})})}}),l.a.createElement("button",{className:"btn waves-effect waves-light",type:"submit",name:"action"},"Submit",l.a.createElement("i",{className:"material-icons right"},"send"))))}}]),t}(s.Component),ae={component:Object($.graphql)(V)(Object($.graphql)(ne)(re))},oe=[m()({},I,{path:"/",routes:[m()({path:"/users"},N),m()({path:"/admins"},R),m()({path:"/signin"},ee),m()({path:"/signup"},ae),{component:f.a,path:"/"},m()({},F)]})],ie=n(22),ue=n(23),ce=n.n(ue),se=n(24),le=n.n(se),pe=n(25),me=n(26),fe=n(27),de=n.n(fe),he=n(28),ge=n(29),ve=n(30),be=Object(ge.onError)(function(e){var t=e.graphQLErrors,n=e.networkError;t&&t.map(function(e){var t=e.message,n=e.location,r=e.path;return console.log("[GraphQL error]: Message: ".concat(t,", Location: ").concat(n,", Path: ").concat(r))}),n&&console.log("[Network error]: ".concat(n))}),ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(ve.createPersistedQueryLink)({useGETForHashedQueries:!0}).concat(new he.HttpLink(m()({},e,{credentials:"same-origin"})))},Ee=function(){var e=new WeakSet;return function(t,n){if("object"===de()(n)&&null!==n){if(e.has(n))return;e.add(n)}return n}},we=n(31),xe=n.n(we),Se=function(){var e=c()(i.a.mark(function e(t,n,r){var a,o,u;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=[be,ye({fetch:xe.a,uri:"http://localhost:3000/api/graphql"})],o=new le.a({ssrMode:!0,link:me.ApolloLink.from(a),cache:new pe.InMemoryCache}),u=l.a.createElement($.ApolloProvider,{client:o},l.a.createElement(L.Provider,{store:n},l.a.createElement(M.StaticRouter,{location:t.path,context:r},Object(U.renderRoutes)(oe)))),e.abrupt("return",Object($.renderToStringWithData)(u).then(function(e){var t=ce()(n.getState()),r=ie.AES.encrypt(t,"secret key 123"),a=T.Helmet.renderStatic();return"\n            <html>\n                <head>\n                    ".concat(a.title.toString(),"\n                    ").concat(a.meta.toString(),"\n                    ").concat(a.link.toString(),'\n                    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.0/css/materialize.min.css">\n                    <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">\n                    <link href="/stylesheets/main.css" rel="stylesheet">\n                    <script>window.INITIAL_STATE = ').concat(JSON.stringify(r,Ee()),'<\/script>\n                </head>\n                <body>\n                    <div id="root">').concat(e,'</div>\n                    <script src="/public-bundle.js"><\/script>\n                    <script src="/public-bundle.chunk.js"><\/script>\n                    <script>window.__APOLLO_STATE__=').concat(JSON.stringify(o.extract(),Ee()),"<\/script>\n                </body>\n            </html>")}));case 4:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}(),ke=n(16),qe=n(32),je=n.n(qe),Oe={adminsList:{}},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ADMINS":return function(e,t){return m()({},e,{adminsList:t.payload})}(e,t);default:return e}},_e={usersList:null},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USERS":return function(e,t){return m()({},e,{usersList:t.payload})}(e,t);default:return e}},Te={user:!1},Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_CURRENT_USER":return function(e,t){return m()({},e,{user:t.payload})}(e,t);default:return e}},Ne=Object(ke.combineReducers)({admins:Le,users:Ce,auth:Pe}),Ae=n(33),He=n.n(Ae);t.default=function(){return function(e,t){var n=function(e){var t=He.a.create({baseURL:"http://localhost:5000",headers:{cookie:e.get("cookie")||""}});return Object(ke.createStore)(Ne,{},Object(ke.applyMiddleware)(je.a.withExtraArgument(t)))}(e),r=Object(U.matchRoutes)(oe,e.path).map(function(e){var t=e.route;return t.loadData?t.loadData(n):null}).map(function(e){if(e)return new Promise(function(t,n){e.then(t).catch(t)})});Promise.all(r).then(function(){var r={},a=Se(e,n,r,t);Promise.all([a]).then(function(e){r.notFound&&t.status(404),t.send(e[0])})})}}},function(e,t){e.exports=require("crypto-js")},function(e,t){e.exports=require("serialize-javascript")},function(e,t){e.exports=require("apollo-client")},function(e,t){e.exports=require("apollo-cache-inmemory")},function(e,t){e.exports=require("apollo-link")},function(e,t){e.exports=require("@babel/runtime/helpers/typeof")},function(e,t){e.exports=require("apollo-link-http")},function(e,t){e.exports=require("apollo-link-error")},function(e,t){e.exports=require("apollo-link-persisted-queries")},function(e,t){e.exports=require("node-fetch")},function(e,t){e.exports=require("redux-thunk")},function(e,t){e.exports=require("axios")},function(e,t,n){e.exports=n(21)},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},,function(e,t){e.exports={red:"home__red--CWskv"}},,,,,function(e,t){e.exports={container:"signin__container--3fD1p"}}]);
//# sourceMappingURL=server-bundle.js.map